openapi: 3.1.0
info:
  title: star-api
  description: API Reference for student's knowledge base
  license:
    name: MIT
    url: 'https://mit-license.org/'
  contact:
    name: Daniil
    url: 'https://t.me/dadyarri'
  version: '1.0'
servers:
  - url: 'http://localhost:3000'
components:
  schemas: {}
  securitySchemes:
    Authorization:
      name: Authorization
      type: apiKey
      in: header
tags:
  - name: content
    description: 'Methodical materials, links, etc'
  - name: persons
    description: 'Authorization information, useful contacts, etc'
  - name: events
    description: Notification system
  - name: tests
    description: Knowledge checking system
paths:
  /inviteCode:
    post:
      summary: Generate invite code
      tags:
        - persons
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: ../models/InviteCode.yaml
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: ../models/Error.yaml
      operationId: post-inviteCode
      description: Generates new invite code and returns it
      security:
        - Authorization: []
      parameters: []
    delete:
      summary: Invalidate invite code
      tags:
        - persons
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: ../models/InviteCode.yaml
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: ../models/Error.yaml
      operationId: delete-inviteCode
      description: Invalidates invite code
      security:
        - Authorization: []
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: ../models/InvalidateCodeBody.yaml
        description: ''
  '/events/{group}':
    get:
      summary: Get events
      tags:
        - events
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: ../models/Event.yaml
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: ../models/Error.yaml
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: ../models/Error.yaml
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: ../models/Error.yaml
      operationId: get-event
      description: Get events of group
      security:
        - Authorization: []
      parameters: []
    post:
      summary: Create event
      tags:
        - events
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                $ref: ../models/Event.yaml
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: ../models/Error.yaml
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: ../models/Error.yaml
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: ../models/Error.yaml
      operationId: post-event
      description: create event
      security:
        - Authorization: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                priority:
                  $ref: ../models/EventPriority.yaml
                eventText:
                  type: string
                eventDescription:
                  type: string
                eventDate:
                  type: integer
        description: ''
    parameters:
      - schema:
          type: string
        name: group
        in: path
        required: true
        description: group id
  '/pages/{subject}':
    post:
      summary: Create new page
      tags:
        - content
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                $ref: ../models/Page.yaml
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: ../models/Error.yaml
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: ../models/Error.yaml
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: ../models/Error.yaml
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: ../models/Error.yaml
      operationId: post-pages
      description: Create new pages and return it
      security:
        - Authorization: []
      parameters:
        - schema:
            type: string
          in: header
          name: X-Authorization
          description: Auth Token
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                attachments:
                  type: array
                  items:
                    $ref: ../models/Attachment.yaml
                link:
                  type: string
    get:
      summary: Get pages by subject
      tags:
        - content
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: ../models/Subject.yaml
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: ../models/Error.yaml
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: ../models/Error.yaml
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: ../models/Error.yaml
      operationId: get-pages
      description: Get list of pages by subject
      security:
        - Authorization: []
      parameters: []
    parameters:
      - schema:
          type: string
        name: subject
        in: path
        required: true
        description: Subject id
  /eventPriorities:
    get:
      summary: get list of priorities
      tags:
        - events
      description: gets list of available priorities
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: ../models/EventPriority.yaml
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: ../models/Error.yaml
        '405':
          description: Method Not Allowed
          content:
            application/json:
              schema:
                $ref: ../models/Error.yaml
      operationId: get-eventPriorities
      parameters: []
      security:
        - Authorization: []
  '/event/{id}':
    get:
      summary: Get event by its id
      description: gets exact event by its id
      tags:
        - events
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: ../models/Event.yaml
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: ../models/Error.yaml
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: ../models/Error.yaml
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: ../models/Error.yaml
      operationId: get
      security:
        - Authorization: []
      parameters: []
    delete:
      summary: Delete event by its id
      description: deletes exact event by its id
      tags:
        - events
      responses:
        '200':
          description: OK
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: ../models/Error.yaml
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: ../models/Error.yaml
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: ../models/Error.yaml
      operationId: delete
      security:
        - Authorization: []
      parameters:
        - schema:
            type: string
          in: header
          name: ' X-Authorization'
          description: Auth token
    patch:
      summary: Update event by its id
      description: updates exact event by its id
      tags:
        - events
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: ../models/Event.yaml
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: ../models/Error.yaml
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: ../models/Error.yaml
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: ../models/Error.yaml
      operationId: patch
      security:
        - Authorization: []
      parameters:
        - schema:
            type: string
          in: header
          name: ' X-Authorization'
          description: Auth token
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                eventPriority:
                  type: string
                eventText:
                  type: string
                eventDescription:
                  type: string
                eventDate:
                  type: integer
    parameters:
      - schema:
          type: string
        name: id
        in: path
        required: true
        description: uuid of event
  /quizzes:
    get:
      summary: Get list of quizzes
      description: gets list of created quizzes in exact group
      tags:
        - tests
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: ../models/Quiz.yaml
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: ../models/Error.yaml
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: ../models/Error.yaml
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: ../models/Error.yaml
      operationId: get-quizzes
      security:
        - Authorization: []
      parameters: []
    post:
      summary: Create new quiz
      description: creates new quiz for the exact group
      tags:
        - tests
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: ../models/Quiz.yaml
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: ../models/Error.yaml
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: ../models/Error.yaml
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: ../models/Error.yaml
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: ../models/Error.yaml
      operationId: post-quizzes
      security:
        - Authorization: []
      parameters:
        - schema:
            type: string
          in: header
          name: ' X-Authorization'
          description: Auth token
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                subjectId:
                  type: string
        description: ''
  '/softwares/{subjectId}':
    post:
      summary: Create new software link in a subject by its ID
      tags:
        - content
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: ../models/Software.yaml
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: ../models/Error.yaml
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: ../models/Error.yaml
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: ../models/Error.yaml
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: ../models/Error.yaml
      operationId: post-software
      description: Create new software link in a subject by its ID
      security:
        - Authorization: []
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                link:
                  type: string
              required:
                - link
    parameters:
      - schema:
          type: string
        name: subjectId
        in: path
        required: true
        description: ID of subject
  /new attachment:
    post:
      summary: create new attachment
      tags:
        - content
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: ../models/Attachment.yaml
        '201':
          description: Created
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: ../models/Attachment.yaml
        '302':
          description: Found
          content:
            application/json:
              schema:
                $ref: ../models/Error.yaml
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                type: object
                properties:
                  '':
                    $ref: ../models/Error.yaml
        '425':
          description: Too Early
          content:
            application/json:
              schema:
                $ref: ../models/Error.yaml
      operationId: post-new-attachment
      security:
        - Authorization: []
      parameters: []
      description: create new attacment file
  /new employee:
    post:
      summary: create new employ
      tags:
        - content
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: ../models/Employee.yaml
        '201':
          description: Created
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: ../models/Employee.yaml
        '302':
          description: Found
          content:
            application/json:
              schema:
                $ref: ../models/Error.yaml
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: ../models/Error.yaml
        '425':
          description: Too Early
          content:
            application/json:
              schema:
                $ref: ../models/Error.yaml
      operationId: post-new-employee
      description: create new employ
      security:
        - Authorization: []
      parameters: []
security:
  - Authorization: []
